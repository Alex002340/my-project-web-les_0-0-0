<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <title>Сучасні тенденції розвитку гальмівних систем</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Exo+2:wght@300 ;400;600;700;900&family=Montserrat:wght@300;400;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html {
            scroll-behavior: smooth;
        }
        
        :root {
            --primary: #0a1929;
            --secondary: #1e3a5f;
            --accent: #00d4ff;
            --accent-dark: #0099cc;
            --text-light: #e6f7ff;
            --text-muted: #8b9dc3;
            --gradient-1: linear-gradient(135deg, #0a1929 0%, #1e3a5f 100%);
            --gradient-2: linear-gradient(135deg, #00d4ff 0%, #0099cc 100%);
            --glass: rgba(255, 255, 255, 0.05);
        }
        
        body {
            font-family: 'Montserrat', sans-serif;
            background: var(--primary);
            color: var(--text-light);
            overflow-x: hidden;
            line-height: 1.6;
            scroll-behavior: smooth;
        }
        
        /* Scroll to top button */
        .scroll-top-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: var(--gradient-2);
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: var(--primary);
            box-shadow: 0 10px 30px rgba(0, 212, 255, 0.4);
            opacity: 0;
            visibility: hidden;
            transform: translateY(20px);
            transition: all 0.3s ease;
            z-index: 999;
        }
        
        .scroll-top-btn.visible {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }
        
        .scroll-top-btn:hover {
            transform: translateY(-5px) scale(1.1);
            box-shadow: 0 15px 40px rgba(0, 212, 255, 0.6);
        }
        
        /* Particle Background */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            opacity: 0.4;
        }
        
        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: var(--accent);
            border-radius: 50%;
            animation: float 15s infinite;
            box-shadow: 0 0 10px var(--accent);
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(-100vh) rotate(720deg); opacity: 0; }
        }
        
        /* Navigation */
        .nav-dots {
            position: fixed;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .nav-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--glass);
            border: 2px solid var(--accent);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .nav-dot.active {
            background: var(--accent);
            transform: scale(1.3);
            box-shadow: 0 0 20px var(--accent);
        }
        
        .nav-dot::after {
            content: attr(data-title);
            position: absolute;
            right: 25px;
            top: 50%;
            transform: translateY(-50%);
            background: var(--secondary);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 12px;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
            border: 1px solid var(--accent);
        }
        
        .nav-dot:hover::after {
            opacity: 1;
        }
        
        /* Sections */
        section {
            min-height: 100vh;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 80px 20px;
            z-index: 1;
        }
        
        .container {
            max-width: 1200px;
            width: 100%;
            position: relative;
        }
        
        /* Hero Section */
        .hero {
            text-align: center;
            position: relative;
        }
        
        .hero-image {
            width: 100%;
            max-width: 800px;
            height: 400px;
            object-fit: cover;
            border-radius: 20px;
            margin: 30px auto;
            display: block;
            border: 2px solid var(--accent);
            box-shadow: 0 0 40px rgba(0, 212, 255, 0.3);
        }
        
        .hero-badge {
            display: inline-block;
            padding: 10px 30px;
            background: var(--gradient-2);
            border-radius: 50px;
            font-size: 14px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 30px;
            animation: pulse 2s infinite;
            box-shadow: 0 0 30px rgba(0, 212, 255, 0.3);
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .hero h1 {
            font-family: 'Exo 2', sans-serif;
            font-size: clamp(2.5rem, 8vw, 5rem);
            font-weight: 900;
            line-height: 1.1;
            margin-bottom: 30px;
            background: linear-gradient(135deg, #fff 0%, var(--accent) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: glow 3s ease-in-out infinite alternate;
        }
        
        @keyframes glow {
            from { filter: drop-shadow(0 0 20px rgba(0, 212, 255, 0.3)); }
            to { filter: drop-shadow(0 0 40px rgba(0, 212, 255, 0.6)); }
        }
        
        .hero-subtitle {
            font-size: 1.3rem;
            color: var(--text-muted);
            max-width: 600px;
            margin: 0 auto 40px;
        }
        
        .hero-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
            margin-top: 50px;
        }
        
        .stat-card {
            background: var(--glass);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 212, 255, 0.2);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .stat-card:hover {
            transform: translateY(-10px);
            border-color: var(--accent);
            box-shadow: 0 20px 40px rgba(0, 212, 255, 0.2);
        }
        
        .stat-number {
            font-family: 'Exo 2', sans-serif;
            font-size: 3rem;
            font-weight: 900;
            color: var(--accent);
            display: block;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: var(--text-muted);
            margin-top: 10px;
        }
        
        /* Image Styles */
        .lesson-image {
            width: 100%;
            max-width: 700px;
            height: 350px;
            object-fit: cover;
            border-radius: 20px;
            margin: 30px auto;
            display: block;
            border: 2px solid var(--accent);
            box-shadow: 0 10px 30px rgba(0, 212, 255, 0.2);
            transition: all 0.3s ease;
        }
        
        .lesson-image:hover {
            transform: scale(1.02);
            box-shadow: 0 20px 50px rgba(0, 212, 255, 0.3);
        }
        
        .image-caption {
            text-align: center;
            color: var(--text-muted);
            font-size: 0.9rem;
            margin-top: -20px;
            margin-bottom: 30px;
            font-style: italic;
        }
        
        .image-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin: 40px 0;
        }
        
        .image-card {
            position: relative;
            border-radius: 20px;
            overflow: hidden;
            border: 2px solid var(--accent);
            transition: all 0.3s ease;
        }
        
        .image-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 212, 255, 0.3);
        }
        
        .image-card img {
            width: 100%;
            height: 250px;
            object-fit: cover;
            display: block;
        }
        
        .image-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, var(--primary));
            padding: 30px 20px 20px;
        }
        
        .image-title {
            font-weight: 600;
            color: var(--accent);
        }
        
        /* Timeline Section */
        .timeline-container {
            position: relative;
            padding: 40px 0;
        }
        
        .timeline-line {
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 4px;
            background: var(--gradient-2);
            transform: translateX(-50%);
            box-shadow: 0 0 20px var(--accent);
        }
        
        .timeline-item {
            display: flex;
            justify-content: flex-end;
            padding-right: 50%;
            position: relative;
            margin-bottom: 50px;
            opacity: 0;
            transform: translateX(-50px);
            transition: all 0.6s ease;
        }
        
        .timeline-item.visible {
            opacity: 1;
            transform: translateX(0);
        }
        
        .timeline-item:nth-child(even) {
            justify-content: flex-start;
            padding-right: 0;
            padding-left: 50%;
        }
        
        .timeline-item:nth-child(even) .timeline-content {
            margin-left: 50px;
            margin-right: 0;
        }
        
        .timeline-content {
            background: var(--glass);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 212, 255, 0.3);
            border-radius: 20px;
            padding: 30px;
            max-width: 450px;
            margin-right: 50px;
            position: relative;
            transition: all 0.3s ease;
        }
        
        .timeline-content:hover {
            transform: scale(1.02);
            border-color: var(--accent);
            box-shadow: 0 10px 30px rgba(0, 212, 255, 0.2);
        }
        
        .timeline-dot {
            position: absolute;
            left: 50%;
            top: 30px;
            width: 20px;
            height: 20px;
            background: var(--accent);
            border-radius: 50%;
            transform: translateX(-50%);
            box-shadow: 0 0 20px var(--accent);
            z-index: 10;
        }
        
        .timeline-year {
            font-family: 'Exo 2', sans-serif;
            font-size: 2rem;
            font-weight: 700;
            color: var(--accent);
            margin-bottom: 10px;
        }
        
        .timeline-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 10px;
        }
        
        .timeline-desc {
            color: var(--text-muted);
            font-size: 0.95rem;
        }
        
        /* Content Cards */
        .section-title {
            font-family: 'Exo 2', sans-serif;
            font-size: clamp(2rem, 5vw, 3.5rem);
            font-weight: 700;
            text-align: center;
            margin-bottom: 20px;
            position: relative;
        }
        
        .section-title::after {
            content: '';
            display: block;
            width: 100px;
            height: 4px;
            background: var(--gradient-2);
            margin: 20px auto;
            border-radius: 2px;
            box-shadow: 0 0 20px var(--accent);
        }
        
        .section-subtitle {
            text-align: center;
            color: var(--text-muted);
            margin-bottom: 50px;
            font-size: 1.1rem;
        }
        
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }
        
        .info-card {
            background: var(--glass);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 212, 255, 0.2);
            border-radius: 24px;
            padding: 40px;
            position: relative;
            overflow: hidden;
            transition: all 0.4s ease;
        }
        
        .info-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-2);
            transform: scaleX(0);
            transition: transform 0.4s ease;
        }
        
        .info-card:hover::before {
            transform: scaleX(1);
        }
        
        .info-card:hover {
            transform: translateY(-5px);
            border-color: var(--accent);
            box-shadow: 0 20px 40px rgba(0, 212, 255, 0.15);
        }
        
        .card-icon {
            width: 70px;
            height: 70px;
            background: var(--gradient-2);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            margin-bottom: 25px;
            box-shadow: 0 10px 30px rgba(0, 212, 255, 0.3);
        }
        
        .card-title {
            font-family: 'Exo 2', sans-serif;
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 15px;
            color: var(--accent);
        }
        
        .card-text {
            color: var(--text-muted);
            line-height: 1.8;
            margin-bottom: 20px;
        }
        
        .feature-list {
            list-style: none;
        }
        
        .feature-list li {
            padding: 10px 0;
            padding-left: 30px;
            position: relative;
            color: var(--text-light);
        }
        
        .feature-list li::before {
            content: '▸';
            position: absolute;
            left: 0;
            color: var(--accent);
            font-weight: bold;
        }
        
        /* Interactive Comparison Table */
        .comparison-container {
            background: var(--glass);
            backdrop-filter: blur(10px);
            border-radius: 24px;
            border: 1px solid rgba(0, 212, 255, 0.2);
            overflow: hidden;
            margin-top: 40px;
        }
        
        .comparison-header {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            background: var(--secondary);
            padding: 20px;
            font-weight: 600;
            text-align: center;
        }
        
        .comparison-row {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            padding: 20px;
            border-bottom: 1px solid rgba(0, 212, 255, 0.1);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .comparison-row:hover {
            background: rgba(0, 212, 255, 0.05);
        }
        
        .comparison-row:last-child {
            border-bottom: none;
        }
        
        .comparison-cell {
            padding: 10px;
            text-align: center;
        }
        
        .comparison-cell:first-child {
            text-align: left;
            font-weight: 600;
            color: var(--accent);
        }
        
        .highlight {
            color: var(--accent);
            font-weight: 600;
        }
        
        /* Infographic Section */
        .infographic {
            background: var(--glass);
            border-radius: 30px;
            padding: 40px;
            margin: 40px 0;
            border: 1px solid rgba(0, 212, 255, 0.2);
        }
        
        .info-flow {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
            position: relative;
        }
        
        .info-step {
            flex: 1;
            min-width: 200px;
            text-align: center;
            padding: 30px;
            background: var(--primary);
            border-radius: 20px;
            border: 2px solid var(--accent);
            position: relative;
            transition: all 0.3s ease;
        }
        
        .info-step:hover {
            transform: scale(1.05);
            box-shadow: 0 0 30px rgba(0, 212, 255, 0.4);
        }
        
        .info-step-number {
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 40px;
            height: 40px;
            background: var(--accent);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: var(--primary);
            box-shadow: 0 0 20px var(--accent);
        }
        
        .info-arrow {
            font-size: 2rem;
            color: var(--accent);
            animation: bounce 1s infinite;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateX(0); }
            50% { transform: translateX(10px); }
        }
        
        /* Progress Ring */
        .progress-ring-container {
            display: flex;
            justify-content: center;
            gap: 50px;
            flex-wrap: wrap;
            margin: 40px 0;
        }
        
        .progress-item {
            text-align: center;
        }
        
        .progress-ring {
            width: 150px;
            height: 150px;
            position: relative;
        }
        
        .progress-ring svg {
            transform: rotate(-90deg);
        }
        
        .progress-ring-bg {
            fill: none;
            stroke: var(--secondary);
            stroke-width: 10;
        }
        
        .progress-ring-fill {
            fill: none;
            stroke: var(--accent);
            stroke-width: 10;
            stroke-linecap: round;
            stroke-dasharray: 377;
            stroke-dashoffset: 377;
            transition: stroke-dashoffset 2s ease;
        }
        
        .progress-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-family: 'Exo 2', sans-serif;
            font-size: 2rem;
            font-weight: 700;
            color: var(--accent);
        }
        
        .progress-label {
            margin-top: 15px;
            color: var(--text-muted);
            font-size: 0.9rem;
        }
        
        /* Quiz Section - Enhanced */
        .quiz-container {
            background: var(--glass);
            border-radius: 24px;
            padding: 40px;
            border: 1px solid rgba(0, 212, 255, 0.2);
            max-width: 800px;
            margin: 0 auto;
        }
        
        .quiz-progress {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding: 15px;
            background: var(--primary);
            border-radius: 15px;
        }
        
        .quiz-progress-text {
            font-size: 0.9rem;
            color: var(--text-muted);
        }
        
        .quiz-progress-bar {
            flex: 1;
            height: 8px;
            background: var(--secondary);
            border-radius: 4px;
            margin: 0 15px;
            overflow: hidden;
        }
        
        .quiz-progress-fill {
            height: 100%;
            background: var(--gradient-2);
            border-radius: 4px;
            transition: width 0.3s ease;
            width: 0%;
        }
        
        .quiz-question {
            font-size: 1.2rem;
            margin-bottom: 25px;
            text-align: center;
            font-weight: 600;
            line-height: 1.5;
        }
        
        .quiz-type-badge {
            display: inline-block;
            padding: 5px 15px;
            background: var(--accent);
            color: var(--primary);
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
            margin-bottom: 20px;
            text-transform: uppercase;
        }
        
        /* Single/Multiple choice options */
        .quiz-options {
            display: grid;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .quiz-option {
            background: var(--primary);
            border: 2px solid var(--secondary);
            border-radius: 15px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .quiz-option:hover {
            border-color: var(--accent);
            background: rgba(0, 212, 255, 0.05);
        }
        
        .quiz-option.selected {
            border-color: var(--accent);
            background: rgba(0, 212, 255, 0.1);
        }
        
        .quiz-option.correct {
            border-color: #00ff88;
            background: rgba(0, 255, 136, 0.15);
        }
        
        .quiz-option.wrong {
            border-color: #ff4444;
            background: rgba(255, 68, 68, 0.15);
        }
        
        .quiz-option.disabled {
            pointer-events: none;
            opacity: 0.6;
        }
        
        .option-checkbox {
            width: 24px;
            height: 24px;
            border: 2px solid var(--accent);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            transition: all 0.3s ease;
        }
        
        .quiz-option.selected .option-checkbox {
            background: var(--accent);
        }
        
        .option-radio {
            width: 24px;
            height: 24px;
            border: 2px solid var(--accent);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            transition: all 0.3s ease;
        }
        
        .quiz-option.selected .option-radio {
            background: var(--accent);
        }
        
        .option-letter {
            width: 35px;
            height: 35px;
            background: var(--secondary);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            flex-shrink: 0;
            font-size: 0.9rem;
        }
        
        .quiz-option-text {
            flex: 1;
            line-height: 1.5;
        }
        
        /* Matching quiz */
        .matching-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .matching-column {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .matching-item {
            background: var(--primary);
            border: 2px solid var(--secondary);
            border-radius: 15px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .matching-item:hover {
            border-color: var(--accent);
            background: rgba(0, 212, 255, 0.05);
        }
        
        .matching-item.selected {
            border-color: var(--accent);
            background: rgba(0, 212, 255, 0.15);
        }
        
        .matching-item.matched {
            border-color: #00ff88;
            background: rgba(0, 255, 136, 0.15);
            pointer-events: none;
        }
        
        .matching-item.wrong-match {
            border-color: #ff4444;
            background: rgba(255, 68, 68, 0.15);
            animation: shake 0.5s;
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }
        
        .matching-label {
            font-size: 0.8rem;
            color: var(--accent);
            margin-bottom: 5px;
            text-transform: uppercase;
            font-weight: 700;
        }
        
        /* Sequence quiz */
        .sequence-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .sequence-item {
            background: var(--primary);
            border: 2px solid var(--secondary);
            border-radius: 15px;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            cursor: grab;
            transition: all 0.3s ease;
            user-select: none;
            touch-action: none;
        }
        
        .sequence-item:active {
            cursor: grabbing;
        }
        
        .sequence-item.dragging {
            opacity: 0.5;
            transform: scale(1.02);
            box-shadow: 0 10px 30px rgba(0, 212, 255, 0.3);
        }
        
        .sequence-number {
            width: 40px;
            height: 40px;
            background: var(--accent);
            color: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            flex-shrink: 0;
        }
        
        .sequence-handle {
            margin-left: auto;
            color: var(--accent);
            font-size: 1.5rem;
            cursor: grab;
        }
        
        .sequence-item.correct-position {
            border-color: #00ff88;
            background: rgba(0, 255, 136, 0.1);
        }
        
        /* Quiz buttons */
        .quiz-btn {
            display: block;
            margin: 20px auto;
            padding: 15px 40px;
            background: var(--accent);
            color: var(--primary);
            border: none;
            border-radius: 30px;
            font-weight: 700;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        
        .quiz-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0, 212, 255, 0.4);
        }
        
        .quiz-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }
        
        #feedback {
            text-align: center;
            font-weight: 600;
            margin-top: 20px;
            padding: 15px;
            border-radius: 15px;
            display: none;
        }
        
        #feedback.show {
            display: block;
        }
        
        #feedback.correct {
            background: rgba(0, 255, 136, 0.1);
            color: #00ff88;
            border: 2px solid #00ff88;
        }
        
        #feedback.wrong {
            background: rgba(255, 68, 68, 0.1);
            color: #ff4444;
            border: 2px solid #ff4444;
        }
        
        /* Sources Section */
        .sources-list {
            background: var(--glass);
            border-radius: 20px;
            padding: 40px;
            border: 1px solid rgba(0, 212, 255, 0.2);
        }
        
        .source-item {
            padding: 15px 0;
            border-bottom: 1px solid rgba(0, 212, 255, 0.1);
            display: flex;
            gap: 15px;
            align-items: flex-start;
        }
        
        .source-item:last-child {
            border-bottom: none;
        }
        
        .source-number {
            width: 30px;
            height: 30px;
            background: var(--accent);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: 700;
            color: var(--primary);
            flex-shrink: 0;
        }
        
        .source-text {
            color: var(--text-muted);
            font-size: 0.95rem;
        }
        
        .source-text a {
            color: var(--accent);
            text-decoration: none;
        }
        
        .source-text a:hover {
            text-decoration: underline;
        }
        
        /* Footer */
        .footer {
            text-align: center;
            padding: 40px;
            background: var(--secondary);
            margin-top: 60px;
        }
        
        /* Scroll Animations */
        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s ease;
        }
        
        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Mobile Responsive */
        @media (max-width: 768px) {
            html {
                scroll-behavior: smooth;
            }
            
            .nav-dots {
                display: none;
            }
            
            .scroll-top-btn {
                width: 50px;
                height: 50px;
                font-size: 20px;
                bottom: 20px;
                right: 20px;
            }
            
            .timeline-line {
                left: 20px;
            }
            
            .timeline-item,
            .timeline-item:nth-child(even) {
                justify-content: flex-start;
                padding-left: 60px;
                padding-right: 0;
            }
            
            .timeline-item:nth-child(even) .timeline-content {
                margin-left: 0;
                margin-right: 0;
            }
            
            .timeline-content {
                margin-right: 0;
                max-width: 100%;
            }
            
            .timeline-dot {
                left: 20px;
            }
            
            .comparison-header,
            .comparison-row {
                grid-template-columns: 1fr;
                text-align: left;
            }
            
            .comparison-cell {
                text-align: left;
                padding: 5px 0;
            }
            
            .comparison-cell::before {
                content: attr(data-label) ": ";
                font-weight: 600;
                color: var(--accent);
            }
            
            .info-flow {
                flex-direction: column;
            }
            
            .info-arrow {
                transform: rotate(90deg);
                animation: bounce-mobile 1s infinite;
            }
            
            @keyframes bounce-mobile {
                0%, 100% { transform: rotate(90deg) translateX(0); }
                50% { transform: rotate(90deg) translateX(10px); }
            }
            
            .hero-stats {
                grid-template-columns: 1fr;
            }
            
            .cards-grid {
                grid-template-columns: 1fr;
            }
            
            .hero-image,
            .lesson-image {
                height: 250px;
            }
            
            .image-grid {
                grid-template-columns: 1fr;
            }
            
            .matching-container {
                grid-template-columns: 1fr;
            }
            
            .matching-column {
                flex-direction: row;
                overflow-x: auto;
                padding-bottom: 10px;
            }
            
            .matching-item {
                min-width: 150px;
            }
            
            section {
                padding: 60px 15px;
                min-height: auto;
            }
            
            .quiz-container {
                padding: 20px;
            }
            
            .quiz-option {
                padding: 15px;
            }
            
            .sequence-item {
                padding: 15px;
            }
        }
        
        /* Loading Animation */
        .loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.5s;
        }
        
        .loader.hidden {
            opacity: 0;
            pointer-events: none;
        }
        
        .loader-ring {
            width: 80px;
            height: 80px;
            border: 4px solid var(--secondary);
            border-top-color: var(--accent);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            box-shadow: 0 0 20px var(--accent);
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
        }
        
        ::-webkit-scrollbar-track {
            background: var(--primary);
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--secondary);
            border-radius: 5px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: var(--accent);
        }
        
        /* Results Screen */
        .results-screen {
            text-align: center;
            padding: 40px 20px;
        }
        
        .results-score {
            font-family: 'Exo 2', sans-serif;
            font-size: 5rem;
            font-weight: 900;
            color: var(--accent);
            margin: 20px 0;
            text-shadow: 0 0 30px rgba(0, 212, 255, 0.5);
        }
        
        .results-message {
            font-size: 1.5rem;
            margin-bottom: 30px;
            color: var(--text-light);
        }
        
        .results-details {
            background: var(--primary);
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
            border: 2px solid var(--accent);
        }
        
        .results-progress {
            width: 100%;
            height: 20px;
            background: var(--secondary);
            border-radius: 10px;
            overflow: hidden;
            margin: 20px 0;
        }
        
        .results-progress-bar {
            height: 100%;
            background: var(--gradient-2);
            border-radius: 10px;
            transition: width 1s ease;
        }
    </style>
</head>
<body>
    <!-- Scroll to top button -->
    <button class="scroll-top-btn" id="scrollTopBtn" onclick="scrollToTop()">
        ↑
    </button>
    
    <!-- Loader -->
    <div class="loader" id="loader">
        <div class="loader-ring"></div>
    </div>
    
    <!-- Particles -->
    <div class="particles" id="particles"></div>
    
    <!-- Navigation Dots -->
    <div class="nav-dots">
        <div class="nav-dot active" data-title="Головна" onclick="scrollToSection(0)"></div>
        <div class="nav-dot" data-title="Історія" onclick="scrollToSection(1)"></div>
        <div class="nav-dot" data-title="Мікропроцесорні" onclick="scrollToSection(2)"></div>
        <div class="nav-dot" data-title="ECP" onclick="scrollToSection(3)"></div>
        <div class="nav-dot" data-title="Регенерація" onclick="scrollToSection(4)"></div>
        <div class="nav-dot" data-title="Магнітні" onclick="scrollToSection(5)"></div>
        <div class="nav-dot" data-title="Тест" onclick="scrollToSection(6)"></div>
        <div class="nav-dot" data-title="Джерела" onclick="scrollToSection(7)"></div>
    </div>
    
    <!-- Section 1: Hero -->
    <section id="section-0">
        <div class="container">
            <div class="hero">
                <div class="hero-badge">⚡ Інтерактивний урок</div>
                <h1>Сучасні тенденції розвитку гальмівних систем на залізниці</h1>
                
                <img src="https://i.postimg.cc/pTBLSWfH/EKr1-001-Tarpan-2016-G2.jpg " alt="Сучасний швидкісний потяг" class="hero-image">
                
                <p class="hero-subtitle">Від мікропроцесорних систем до магнітних рейкових гальм — огляд технологій майбутнього</p>
                
                <div class="hero-stats">
                    <div class="stat-card" onclick="animateCard(this)">
                        <span class="stat-number" data-target="40">0</span>
                        <span class="stat-label">% енергії повертається при рекуперації</span>
                    </div>
                    <div class="stat-card" onclick="animateCard(this)">
                        <span class="stat-number" data-target="60">0</span>
                        <span class="stat-label">% скорочення гальмівного шляху з ECP</span>
                    </div>
                    <div class="stat-card" onclick="animateCard(this)">
                        <span class="stat-number" data-target="300000">0</span>
                        <span class="stat-label">км/с швидкість сигналу в ECP</span>
                    </div>
                    <div class="stat-card" onclick="animateCard(this)">
                        <span class="stat-number" data-target="2025">0</span>
                        <span class="stat-label">рік — $2,9 млрд ринок гальмівних систем</span>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Section 2: Timeline -->
    <section id="section-1">
        <div class="container">
            <h2 class="section-title">Еволюція гальмівних систем</h2>
            <p class="section-subtitle">Від ручних гальм до електронно-керованих систем</p>
            
            <div class="image-grid fade-in">
                <div class="image-card">
                    <img src="https://i.postimg.cc/zX7PG9jk/Parovoz-(parovoz-Upiter-1860.jpg " alt="Історичний паровоз">
                    <div class="image-overlay">
                        <div class="image-title">1860-ті: Ручні гальма</div>
                    </div>
                </div>
                <div class="image-card">
                    <img src="https://i.postimg.cc/PqsZsqwQ/Rotair-Valve-Ari-Brake-SRM.jpg " alt="Винахідник гальм">
                    <div class="image-overlay">
                        <div class="image-title">1869: Пневматичні гальма</div>
                    </div>
                </div>
                <div class="image-card">
                    <img src="https://i.postimg.cc/VsR3Jrs9/ECP.jpg " alt="Сучасний електропоїзд">
                    <div class="image-overlay">
                        <div class="image-title">Сьогодні: Цифрові системи</div>
                    </div>
                </div>
            </div>
            
            <div class="timeline-container">
                <div class="timeline-line"></div>
                
                <div class="timeline-item fade-in">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-year">1830-ті</div>
                        <div class="timeline-title">Ручні гальма</div>
                        <div class="timeline-desc">Гальмівні колодки з дерев'яними блоками, які приводилися в дію вручну гальмівниками на кожному вагоні</div>
                    </div>
                </div>
                
                <div class="timeline-item fade-in">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-year">1869</div>
                        <div class="timeline-title">Пневматичні гальма</div>
                        <div class="timeline-desc">Винахід Джорджа Вестінгауса — революція в залізничній безпеці. Передача сигналу повітрям по гальмівній магістралі</div>
                    </div>
                </div>
                
                <div class="timeline-item fade-in">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-year">1930-ті</div>
                        <div class="timeline-title">Автоматичні гальма</div>
                        <div class="timeline-desc">Система з автоматичним відпуском гальм при зарядженні магістралі та екстреним гальмуванням при розриві поїзда</div>
                    </div>
                </div>
                
                <div class="timeline-item fade-in">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-year">1960-ті</div>
                        <div class="timeline-title">Електропневматичні гальма (ЕПГ)</div>
                        <div class="timeline-desc">Електричне управління пневматичними приладами — миттєва передача сигналу та плавне регулювання</div>
                    </div>
                </div>
                
                <div class="timeline-item fade-in">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-year">1990-ті</div>
                        <div class="timeline-title">Мікропроцесорні системи</div>
                        <div class="timeline-desc">Цифрове управління з адаптацією до умов руху, діагностикою та веденням протоколів</div>
                    </div>
                </div>
                
                <div class="timeline-item fade-in">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-year">2000-ні</div>
                        <div class="timeline-title">ECP — електронне управління</div>
                        <div class="timeline-desc">Повна відмова від пневматичної хвилі. Електронні сигнали по провідному кабелю з миттєвою реакцією</div>
                    </div>
                </div>
                
                <div class="timeline-item fade-in">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-year">Сьогодні</div>
                        <div class="timeline-title">Інтелектуальні системи</div>
                        <div class="timeline-desc">Інтеграція з ШІ, прогнозування, автономне управління, бездротові технології та "brake-by-wire"</div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Section 3: Microprocessor Systems -->
    <section id="section-2">
        <div class="container">
            <h2 class="section-title">Мікропроцесорні системи гальмування</h2>
            <p class="section-subtitle">КОНСУЛ, МПГ-ІІІ та цифрове управління гальмами</p>
            
            <img src="https://i.postimg.cc/d1Mzypxr/Snimok-ekrana-2026-02-03-043621.png " alt="Схема мікропроцесорної системи" class="lesson-image fade-in">
            <p class="image-caption">Рис. 1. Структурна схема мікропроцесорної системи гальмування</p>
            
            <div class="infographic fade-in">
                <h3 style="text-align: center; margin-bottom: 30px; color: var(--accent);">Принцип роботи мікропроцесорної системи</h3>
                <div class="info-flow">
                    <div class="info-step">
                        <div class="info-step-number">1</div>
                        <h4>Датчики</h4>
                        <p style="font-size: 0.9rem; color: var(--text-muted);">Швидкості, тиску, завантаження</p>
                    </div>
                    <div class="info-arrow">→</div>
                    <div class="info-step">
                        <div class="info-step-number">2</div>
                        <h4>Мікропроцесор</h4>
                        <p style="font-size: 0.9rem; color: var(--text-muted);">Обчислення оптимального зусилля</p>
                    </div>
                    <div class="info-arrow">→</div>
                    <div class="info-step">
                        <div class="info-step-number">3</div>
                        <h4>ЕПП</h4>
                        <p style="font-size: 0.9rem; color: var(--text-muted);">Електропневматичні перетворювачі</p>
                    </div>
                    <div class="info-arrow">→</div>
                    <div class="info-step">
                        <div class="info-step-number">4</div>
                        <h4>Гальма</h4>
                        <p style="font-size: 0.9rem; color: var(--text-muted);">Плавне гальмування з точністю 0.01 МПа</p>
                    </div>
                </div>
            </div>
            
            <div class="image-grid fade-in">
                <div class="image-card">
                    <img src="https://i.postimg.cc/Dz5x2DKy/ert5y6u7nm.jpg " alt="Датчик тиску">
                    <div class="image-overlay">
                        <div class="image-title">Датчик тиску</div>
                    </div>
                </div>
                <div class="image-card">
                    <img src="https://i.postimg.cc/63mzZvqt/ert5y6u7nm566.jpg " alt="Електропневматичний перетворювач">
                    <div class="image-overlay">
                        <div class="image-title">ЕПП — виконавчий механізм</div>
                    </div>
                </div>
            </div>
            
            <div class="cards-grid">
                <div class="info-card fade-in">
                    <div class="card-icon">🧠</div>
                    <h3 class="card-title">Що це?</h3>
                    <p class="card-text">Мікропроцесорна система гальмування — це цифрова система управління, яка використовує мікроконтролери для обробки інформації та формування команд гальмування. Замінює традиційні пневматичні системи на інтелектуальні з програмним управлінням.</p>
                </div>
                
                <div class="info-card fade-in">
                    <div class="card-icon">⚙️</div>
                    <h3 class="card-title">Компоненти системи</h3>
                    <ul class="feature-list">
                        <li>Мікропроцесорний контролер — "мозок" системи</li>
                        <li>Електропневматичні перетворювачі (ЕПП)</li>
                        <li>Датчики швидкості кожної колісної пари</li>
                        <li>Датчики тиску та завантаження</li>
                        <li>Система діагностики в реальному часі</li>
                    </ul>
                </div>
                
                <div class="info-card fade-in">
                    <div class="card-icon">📊</div>
                    <h3 class="card-title">Система КОНСУЛ</h3>
                    <p class="card-text">Сучасна мікропроцесорна система управління гальмами для локомотивів з розосередженою тягою. Забезпечує якісне управління тяговими та гальмівними режимами поїздів (РЖД, 2024).</p>
                </div>
                
                <div class="info-card fade-in">
                    <div class="card-icon">✨</div>
                    <h3 class="card-title">Переваги</h3>
                    <ul class="feature-list">
                        <li>Точність регулювання: до 0.01 МПа</li>
                        <li>Зниження зношування колодок на 15-20%</li>
                        <li>Скорочення гальмівного шляху на 10-15%</li>
                        <li>Автоматична адаптація до умов руху</li>
                        <li>Програмне оновлення без заміни обладнання</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Section 4: ECP -->
    <section id="section-3">
        <div class="container">
            <h2 class="section-title">ECP — Електронно-керовані гальма</h2>
            <p class="section-subtitle">Революція у вантажному русі: від хвилі до світла</p>
            
            <img src="https://i.postimg.cc/xCDLV3X1/image4567s.png " alt="Порівняльна схема ECP" class="lesson-image fade-in">
            <p class="image-caption">Рис. 2. ECP система гальмування</p>
            
            <div class="comparison-container fade-in">
                <div class="comparison-header">
                    <div>Параметр</div>
                    <div>Традиційна система</div>
                    <div class="highlight">ECP</div>
                </div>
                <div class="comparison-row">
                    <div class="comparison-cell" data-label="Швидкість передачі">Швидкість сигналу</div>
                    <div class="comparison-cell" data-label="Традиційна">250-300 м/с (швидкість звуку)</div>
                    <div class="comparison-cell highlight" data-label="ECP">300 000 км/с (швидкість світла)</div>
                </div>
                <div class="comparison-row">
                    <div class="comparison-cell" data-label="Одночасність">Одночасність гальмування</div>
                    <div class="comparison-cell" data-label="Традиційна">Послідовна з затримкою</div>
                    <div class="comparison-cell highlight" data-label="ECP">Миттєва (simultaneous)</div>
                </div>
                <div class="comparison-row">
                    <div class="comparison-cell" data-label="Регулювання">Регулювання тиску</div>
                    <div class="comparison-cell" data-label="Традиційна">Ступінчасте</div>
                    <div class="comparison-cell highlight" data-label="ECP">Безперервне, плавне</div>
                </div>
                <div class="comparison-row">
                    <div class="comparison-cell" data-label="Відпуск">Градуйований відпуск</div>
                    <div class="comparison-cell" data-label="Традиційна">Тільки повний</div>
                    <div class="comparison-cell highlight" data-label="ECP">Частковий відпуск</div>
                </div>
                <div class="comparison-row">
                    <div class="comparison-cell" data-label="Гальмівний шлях">Скорочення шляху</div>
                    <div class="comparison-cell" data-label="Традиційна">Базовий</div>
                    <div class="comparison-cell highlight" data-label="ECP">На 40-60% коротший</div>
                </div>
                <div class="comparison-row">
                    <div class="comparison-cell" data-label="Економія">Економія палива</div>
                    <div class="comparison-cell" data-label="Традиційна">Стандартна</div>
                    <div class="comparison-cell highlight" data-label="ECP">Зниження на 3-5%</div>
                </div>
            </div>
            
            <img src="https://i.postimg.cc/Yq9GVsXH/278472.jpg " alt="Вантажний потяг з ECP" class="lesson-image fade-in" style="margin-top: 40px;">
            <p class="image-caption">Рис. 3. Вантажний потяг з ECP системою гальмування</p>
            
            <div class="cards-grid">
                <div class="info-card fade-in">
                    <div class="card-icon">🔌</div>
                    <h3 class="card-title">Принцип ECP</h3>
                    <p class="card-text">Замість пневматичної хвилі використовуються електронні сигнали по провідному кабелю (WTB — Wire Train Bus). Кожен вагон має комп'ютерний модуль (CCD), який керує гальмівним клапаном. Магістраль постійно заряджена — не використовується для передачі команд.</p>
                </div>
                
                <div class="info-card fade-in">
                    <div class="card-icon">🚂</div>
                    <h3 class="card-title">Досвід Canadian Pacific</h3>
                    <p class="card-text">З 2008 року Canadian Pacific Railway експлуатує ECP на вугільних поїздах. За 2,5 роки підтверджено зниження витрат на обслуговування, скорочення гальмівного шляху на 40-60% та зменшення зусиль у натяжних пристроях на 40-50% (Wachs et al., 2011).</p>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Section 5: Regenerative Braking -->
    <section id="section-4">
        <div class="container">
            <h2 class="section-title">Регенеративне гальмування</h2>
            <p class="section-subtitle">Перетворення кінетичної енергії в електричну</p>
            
            <img src="https://i.postimg.cc/fLVWCGzd/imagic4k5es.png " alt="Схема регенеративного гальмування" class="lesson-image fade-in">
            <p class="image-caption">Рис. 4. Принцип регенеративного гальмування з поверненням енергії в мережу</p>
            
            <div class="progress-ring-container fade-in">
                <div class="progress-item">
                    <div class="progress-ring">
                        <svg width="150" height="150">
                            <circle class="progress-ring-bg" cx="75" cy="75" r="60"></circle>
                            <circle class="progress-ring-fill" cx="75" cy="75" r="60" data-percent="40"></circle>
                        </svg>
                        <div class="progress-text">40%</div>
                    </div>
                    <div class="progress-label">Енергії повертається в мережу</div>
                </div>
                
                <div class="progress-item">
                    <div class="progress-ring">
                        <svg width="150" height="150">
                            <circle class="progress-ring-bg" cx="75" cy="75" r="60"></circle>
                            <circle class="progress-ring-fill" cx="75" cy="75" r="60" data-percent="25"></circle>
                        </svg>
                        <div class="progress-text">25%</div>
                    </div>
                    <div class="progress-label">Економія електроенергії</div>
                </div>
                
                <div class="progress-item">
                    <div class="progress-ring">
                        <svg width="150" height="150">
                            <circle class="progress-ring-bg" cx="75" cy="75" r="60"></circle>
                            <circle class="progress-ring-fill" cx="75" cy="75" r="60" data-percent="100"></circle>
                        </svg>
                        <div class="progress-text">30+</div>
                    </div>
                    <div class="progress-label">км/год мінімальна ефективна швидкість</div>
                </div>
            </div>
            
            <div class="infographic fade-in">
                <h3 style="text-align: center; margin-bottom: 30px; color: var(--accent);">Цикл регенеративного гальмування</h3>
                <div class="info-flow">
                    <div class="info-step">
                        <div class="info-step-number">1</div>
                        <h4>Кінетична енергія</h4>
                        <p style="font-size: 0.9rem; color: var(--text-muted);">Енергія руху поїзда</p>
                    </div>
                    <div class="info-arrow">→</div>
                    <div class="info-step">
                        <div class="info-step-number">2</div>
                        <h4>Генераторний режим</h4>
                        <p style="font-size: 0.9rem; color: var(--text-muted);">Тягові двигуни стають генераторами</p>
                    </div>
                    <div class="info-arrow">→</div>
                    <div class="info-step">
                        <div class="info-step-number">3</div>
                        <h4>Випрямлення</h4>
                        <p style="font-size: 0.9rem; color: var(--text-muted);">Рекупераційний випрямляч</p>
                    </div>
                    <div class="info-arrow">→</div>
                    <div class="info-step">
                        <div class="info-step-number">4</div>
                        <h4>Контактна мережа</h4>
                        <p style="font-size: 0.9rem; color: var(--text-muted);">Енергія для інших поїздів</p>
                    </div>
                </div>
            </div>
            
            <img src="https://i.postimg.cc/66VgSH8T/barsel4ona.jpg " alt="Зарядна станція MetroCharge" class="lesson-image fade-in">
            <p class="image-caption">Рис. 5. Використання регенерованої енергії для зарядки електромобілів (Barcelona MetroCharge)</p>
            
            <div class="cards-grid">
                <div class="info-card fade-in">
                    <div class="card-icon">⚡</div>
                    <h3 class="card-title">Принцип роботи</h3>
                    <p class="card-text">При гальмуванні тягові електродвигуни перемикаються в генераторний режим. Кінетична енергія руху перетворюється в електричну та повертається в контактну мережу через рекупераційний випрямляч. Енергію можуть споживати інші поїзди на тій же ділянці (ДСТУ 2286-93).</p>
                </div>
                
                <div class="info-card fade-in">
                    <div class="card-icon">🌍</div>
                    <h3 class="card-title">Екологічний ефект</h3>
                    <p class="card-text">Система MetroCharge в Барселоні (2024) використовує регенеративну енергію метро для зарядки електромобілів на станціях. 16 станцій перетворюють гальмівну енергію поїздів на електроенергію для зарядних станцій (Fortune Business Insights, 2024).</p>
                </div>
                
                <div class="info-card fade-in">
                    <div class="card-icon">💰</div>
                    <h3 class="card-title">Економічність</h3>
                    <ul class="feature-list">
                        <li>Повернення до 40% енергії в мережу</li>
                        <li>Зниження витрат на тягу на 15-25%</li>
                        <li>Зменшення зношування фрикційних гальм</li>
                        <li>Зниження викидів CO₂</li>
                        <li>Немає нагрівання реостатів</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Section 6: Magnetic Brakes -->
    <section id="section-5">
        <div class="container">
            <h2 class="section-title">Магнітні рейкові гальма</h2>
            <p class="section-subtitle">Гальмування без механічного контакту</p>
            
            <img src="https://i.postimg.cc/5tvnz0vq/Septa-PCC-car-truck.jpg " alt="Магнітні гальма в дії" class="lesson-image fade-in">
            <p class="image-caption">Рис. 6. Принцип дії магнітних рейкових гальм (закон Ленца)</p>
            
            <div class="image-grid fade-in">
                <div class="image-card">
                    <img src="https://i.postimg.cc/gJz80kKm/006-j20-railway-854-243-1000x559.jpg " alt="Фрикційні гальмівні колодки">
                    <div class="image-overlay">
                        <div class="image-title">Традиційні колодки</div>
                    </div>
                </div>
                <div class="image-card">
                    <img src="https://i.postimg.cc/gJ2LWtYF/Magnetschienenbremse-ausgebaut.jpg " alt="Магнітні гальма">
                    <div class="image-overlay">
                        <div class="image-title">Магнітні гальма</div>
                    </div>
                </div>
            </div>
            
            <div class="infographic fade-in">
                <h3 style="text-align: center; margin-bottom: 30px; color: var(--accent);">Закон Ленца в дії</h3>
                <div style="text-align: center; padding: 30px;">
                    <p style="font-size: 1.2rem; margin-bottom: 20px;">Електромагніт → Вихрові струми в рейці → Магнітне поле протидії → Гальмування</p>
                    <div style="display: flex; justify-content: center; gap: 20px; flex-wrap: wrap; margin-top: 30px;">
                        <div style="background: var(--primary); padding: 20px; border-radius: 15px; border: 2px solid var(--accent);">
                            <strong>Чим вища швидкість</strong><br>
                            <span style="color: var(--accent);">→ Тим сильніше гальмування</span>
                        </div>
                        <div style="background: var(--primary); padding: 20px; border-radius: 15px; border: 2px solid var(--accent);">
                            <strong>Без механічного зносу</strong><br>
                            <span style="color: var(--accent);">→ Немає фрикційних елементів</span>
                        </div>
                        <div style="background: var(--primary); padding: 20px; border-radius: 15px; border: 2px solid var(--accent);">
                            <strong>Fail-safe</strong><br>
                            <span style="color: var(--accent);">→ Працює при відключенні живлення</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="cards-grid">
                <div class="info-card fade-in">
                    <div class="card-icon">🧲</div>
                    <h3 class="card-title">Принцип роботи</h3>
                    <p class="card-text">На вагоні встановлені електромагніти над рейкою. При подачі струму створюється магнітне поле, яке індукує вихрові струми (струми Фуко) в рейці. Ці струми створюють власне магнітне поле, що протидіє руху (Science Ready, 2024).</p>
                </div>
                
                <div class="info-card fade-in">
                    <div class="card-icon">🚄</div>
                    <h3 class="card-title">Застосування</h3>
                    <ul class="feature-list">
                        <li>Високошвидкісні поїзди Shinkansen (Японія)</li>
                        <li>ICE (Німеччина) — допоміжне гальмування >200 км/год</li>
                        <li>TGV (Франція) — екстрене гальмування</li>
                        <li>Екстрене гальмування без зносу коліс</li>
                    </ul>
                </div>
                
                <div class="info-card fade-in">
                    <div class="card-icon">✅</div>
                    <h3 class="card-title">Переваги</h3>
                    <ul class="feature-list">
                        <li>Відсутність механічного зносу</li>
                        <li>Пропорційність швидкості (закон Ленца)</li>
                        <li>Плавність без ривків і блокування коліс</li>
                        <li>Незалежність від погодних умов</li>
                        <li>Постійні магніти — fail-safe режим</li>
                    </ul>
                </div>
                
                <div class="info-card fade-in">
                    <div class="card-icon">🔮</div>
                    <h3 class="card-title">Перспективи</h3>
                    <p class="card-text">Ринок гальмівних систем залізниць оцінюється в $2,9 млрд (2025) з прогнозом зростання до $5,8 млрд до 2035 року (CAGR 7,2%). Провідні виробники: Knorr-Bremse, Wabtec, Siemens Mobility (Future Market Insights, 2025).</p>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Section 7: Enhanced Quiz -->
    <section id="section-6">
        <div class="container">
            <h2 class="section-title">Перевірка знань</h2>
            <p class="section-subtitle">Пройдіть інтерактивний тест з різними типами питань</p>
            
            <div class="quiz-container fade-in" id="quiz">
                <div class="quiz-progress">
                    <span class="quiz-progress-text">Питання <span id="currentQ">1</span> з <span id="totalQ">6</span></span>
                    <div class="quiz-progress-bar">
                        <div class="quiz-progress-fill" id="progressBar"></div>
                    </div>
                    <span class="quiz-progress-text" id="scoreText">0/0</span>
                </div>
                
                <div class="quiz-type-badge" id="quizType">Одиночний вибір</div>
                
                <div class="quiz-question" id="question"></div>
                
                <div id="quizContent"></div>
                
                <div id="feedback"></div>
                
                <button class="quiz-btn" id="actionBtn" onclick="handleAction()">Відповісти</button>
            </div>
        </div>
    </section>
    
    <!-- Section 8: Sources -->
    <section id="section-7">
        <div class="container">
            <h2 class="section-title">Список використаних джерел</h2>
            <p class="section-subtitle">Надійні джерела інформації</p>
            
            <div class="sources-list fade-in">
                <div class="source-item">
                    <div class="source-number">1</div>
                    <div class="source-text">Вікіпедія — Рекуперативне гальмування (2024). <a href="https://uk.wikipedia.org/wiki/ Рекуперативне_гальмування" target="_blank">https://uk.wikipedia.org/wiki/ Рекуперативне_гальмування</a></div>
                </div>
                <div class="source-item">
                    <div class="source-number">2</div>
                    <div class="source-text">Wachs K., Aronian A., Bell S. et al. — ECP Brake Experience at Canadian Pacific (2011). Railway Age.</div>
                </div>
                <div class="source-item">
                    <div class="source-number">3</div>
                    <div class="source-text">Federal Railroad Administration — Electronically Controlled Pneumatic Brakes Fact Sheet (2024).</div>
                </div>
                <div class="source-item">
                    <div class="source-number">4</div>
                    <div class="source-text">Future Market Insights — Railway Braking System Market Size and Share Forecast 2025-2035 (2025).</div>
                </div>
                <div class="source-item">
                    <div class="source-number">5</div>
                    <div class="source-text">Knorr-Bremse AG — Dynamize your TRAFFIC FLOW: Technologies for Increasing Transportation Capacity (2024).</div>
                </div>
                <div class="source-item">
                    <div class="source-number">6</div>
                    <div class="source-text">РЖД — Рядом с машинистом – «КОНСУЛ» (2024). <a href="https://company.rzd.ru/ru/9401/page/78314?id=18289 " target="_blank">https://company.rzd.ru/ru/9401/page/78314 </a></div>
                </div>
                <div class="source-item">
                    <div class="source-number">7</div>
                    <div class="source-text">Павловський Є.А. — Аналіз можливості підвищення енергоефективності електротранспорту (2023). Запорізький національний університет.</div>
                </div>
                <div class="source-item">
                    <div class="source-number">8</div>
                    <div class="source-text">Metro Rail News — Modern Brake Systems For A Safer Rail Transit (2024).</div>
                </div>
                <div class="source-item">
                    <div class="source-number">9</div>
                    <div class="source-text">Fortune Business Insights — Railway Braking System Market Size, Share | Growth [2034] (2024).</div>
                </div>
                <div class="source-item">
                    <div class="source-number">10</div>
                    <div class="source-text">Science Ready — Lenz's Law in DC Motors and Magnetic Braking (2024).</div>
                </div>
                <div class="source-item">
                    <div class="source-number">11</div>
                    <div class="source-text">ДСТУ 2286-93 — Машини електричні обертові. Терміни та визначення.</div>
                </div>
                <div class="source-item">
                    <div class="source-number">12</div>
                    <div class="source-text">В.І. Крилов — Автоматичні гальма рухомого складу (підручник).</div>
                </div>
                <div class="source-item">
                    <div class="source-number">13</div>
                    <div class="source-text">НМЕТАУ — Матеріали всеукраїнської науково-практичної конференції «Транспортні технології» (2024).</div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Footer -->
    <div class="footer">
        <p>© 2024 Навчальний урок з предмету «Автоматичні гальма»</p>
        <p style="margin-top: 10px; color: var(--text-muted); font-size: 0.9rem;">Професія: 8311.2 Помічник машиніста електровоза</p>
    </div>
    
    <script>
        // ==========================================
        // QUIZ DATA - 6 Questions with different types
        // ==========================================
        const quizData = [
            {
                type: 'single',
                typeLabel: 'Одиночний вибір',
                question: 'Чому мікропроцесорні системи знижують зношування колодок?',
                options: [
                    'За рахунок плавного наростання тиску та оптимального розподілу зусилля',
                    'Завдяки використанню магнітів замість колодок',
                    'За рахунок повної відмови від фрикційного гальмування',
                    'Завдяки зменшенню швидкості руху поїзда'
                ],
                correct: 0
            },
            {
                type: 'multiple',
                typeLabel: 'Множинний вибір',
                question: 'Які переваги має ECP порівняно з традиційними системами? (Виберіть усі правильні)',
                options: [
                    'Миттєва передача сигналу',
                    'Градуйований відпуск гальм',
                    'Зниження вартості обладнання',
                    'Скорочення гальмівного шляху на 40-60%'
                ],
                correct: [0, 1, 3]
            },
            {
                type: 'matching',
                typeLabel: 'На відповідність',
                question: 'Поєднайте систему з її характеристикою:',
                left: ['ECP', 'Регенеративне гальмування', 'Магнітні гальма', 'Мікропроцесорна система'],
                right: ['Повернення 40% енергії', 'Безконтактне гальмування', 'Електронне управління по кабелю', 'Точність 0.01 МПа'],
                correct: [2, 0, 1, 3] // left index -> right index
            },
            {
                type: 'sequence',
                typeLabel: 'На послідовність',
                question: 'Встановіть правильний порядок етапів регенеративного гальмування:',
                items: [
                    'Кінетична енергія руху',
                    'Генераторний режим двигунів',
                    'Випрямлення струму',
                    'Повернення енергії в мережу'
                ],
                correct: [0, 1, 2, 3]
            },
            {
                type: 'single',
                typeLabel: 'Одиночний вибір',
                question: 'На якій швидкості магнітні гальма найефективніші?',
                options: [
                    'На низьких швидкостях (до 30 км/год)',
                    'На високих швидкостях (чим швидше, тим сильніше)',
                    'Однаково на всіх швидкостях',
                    'Тільки при зупинці поїзда'
                ],
                correct: 1
            },
            {
                type: 'multiple',
                typeLabel: 'Множинний вибір',
                question: 'Які компоненти входять до складу мікропроцесорної системи гальмування? (Виберіть усі правильні)',
                options: [
                    'Мікропроцесорний контролер',
                    'Електропневматичні перетворювачі',
                    'Гальмівні колодки з магнітним приводом',
                    'Датчики швидкості та тиску'
                ],
                correct: [0, 1, 3]
            }
        ];
        
        let currentQuestion = 0;
        let score = 0;
        let selectedAnswers = [];
        let matchedPairs = [];
        let sequenceOrder = [];
        
        // ==========================================
        // INITIALIZATION
        // ==========================================
        window.addEventListener('load', () => {
            setTimeout(() => {
                document.getElementById('loader').classList.add('hidden');
            }, 1000);
            
            initQuiz();
            updateProgress();
        });
        
        // ==========================================
        // SCROLL TO TOP BUTTON
        // ==========================================
        const scrollTopBtn = document.getElementById('scrollTopBtn');
        
        window.addEventListener('scroll', () => {
            const scrollHeight = document.documentElement.scrollHeight - window.innerHeight;
            const scrolled = window.scrollY;
            
            if (scrolled > scrollHeight - 100) {
                scrollTopBtn.classList.add('visible');
            } else {
                scrollTopBtn.classList.remove('visible');
            }
        });
        
        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }
        
        // ==========================================
        // PARTICLES
        // ==========================================
        function createParticles() {
            const container = document.getElementById('particles');
            for (let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 15 + 's';
                particle.style.animationDuration = (15 + Math.random() * 10) + 's';
                container.appendChild(particle);
            }
        }
        createParticles();
        
        // ==========================================
        // SCROLL ANIMATIONS
        // ==========================================
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    
                    if (entry.target.querySelectorAll('.progress-ring-fill').length > 0) {
                        animateProgressRings();
                    }
                    
                    if (entry.target.querySelectorAll('.stat-number').length > 0) {
                        animateStatNumbers();
                    }
                }
            });
        }, observerOptions);
        
        document.querySelectorAll('.fade-in, .timeline-item').forEach(el => observer.observe(el));
        
        function animateProgressRings() {
            document.querySelectorAll('.progress-ring-fill').forEach(ring => {
                const percent = parseInt(ring.getAttribute('data-percent'));
                const circumference = 2 * Math.PI * 60;
                const offset = circumference - (percent / 100) * circumference;
                ring.style.strokeDashoffset = offset;
            });
        }
        
        function animateStatNumbers() {
            document.querySelectorAll('.stat-number').forEach(stat => {
                const target = parseInt(stat.getAttribute('data-target'));
                const duration = 2000;
                const step = target / (duration / 16);
                let current = 0;
                
                const timer = setInterval(() => {
                    current += step;
                    if (current >= target) {
                        current = target;
                        clearInterval(timer);
                    }
                    stat.textContent = Math.floor(current);
                }, 16);
            });
        }
        
        // ==========================================
        // NAVIGATION
        // ==========================================
        let currentSection = 0;
        const sections = document.querySelectorAll('section');
        
        function scrollToSection(index) {
            sections[index].scrollIntoView({ behavior: 'smooth' });
            updateNavDots(index);
        }
        
        function updateNavDots(index) {
            document.querySelectorAll('.nav-dot').forEach((dot, i) => {
                dot.classList.toggle('active', i === index);
            });
            currentSection = index;
        }
        
        window.addEventListener('scroll', () => {
            let current = 0;
            sections.forEach((section, index) => {
                const rect = section.getBoundingClientRect();
                if (rect.top <= window.innerHeight / 2) {
                    current = index;
                }
            });
            updateNavDots(current);
        });
        
        function animateCard(card) {
            card.style.transform = 'scale(1.05)';
            setTimeout(() => {
                card.style.transform = '';
            }, 300);
        }
        
        // ==========================================
        // QUIZ FUNCTIONS
        // ==========================================
        function initQuiz() {
            document.getElementById('totalQ').textContent = quizData.length;
            loadQuestion();
        }
        
        function updateProgress() {
            const progress = (currentQuestion / quizData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQ').textContent = currentQuestion + 1;
        }
        
        function loadQuestion() {
            const q = quizData[currentQuestion];
            document.getElementById('quizType').textContent = q.typeLabel;
            document.getElementById('question').textContent = q.question;
            document.getElementById('feedback').className = '';
            document.getElementById('feedback').style.display = 'none';
            document.getElementById('actionBtn').textContent = 'Відповісти';
            document.getElementById('actionBtn').disabled = false;
            
            selectedAnswers = [];
            matchedPairs = [];
            sequenceOrder = [];
            
            const content = document.getElementById('quizContent');
            content.innerHTML = '';
            
            switch(q.type) {
                case 'single':
                    renderSingleChoice(content, q);
                    break;
                case 'multiple':
                    renderMultipleChoice(content, q);
                    break;
                case 'matching':
                    renderMatching(content, q);
                    break;
                case 'sequence':
                    renderSequence(content, q);
                    break;
            }
            
            updateProgress();
        }
        
        function renderSingleChoice(container, q) {
            const optionsDiv = document.createElement('div');
            optionsDiv.className = 'quiz-options';
            
            q.options.forEach((opt, i) => {
                const option = document.createElement('div');
                option.className = 'quiz-option';
                option.innerHTML = `
                    <div class="option-radio"></div>
                    <div class="option-letter">${String.fromCharCode(65 + i)}</div>
                    <div class="quiz-option-text">${opt}</div>
                `;
                option.onclick = () => selectSingle(i, option);
                optionsDiv.appendChild(option);
            });
            
            container.appendChild(optionsDiv);
        }
        
        function renderMultipleChoice(container, q) {
            const optionsDiv = document.createElement('div');
            optionsDiv.className = 'quiz-options';
            
            q.options.forEach((opt, i) => {
                const option = document.createElement('div');
                option.className = 'quiz-option';
                option.innerHTML = `
                    <div class="option-checkbox">✓</div>
                    <div class="option-letter">${String.fromCharCode(65 + i)}</div>
                    <div class="quiz-option-text">${opt}</div>
                `;
                option.onclick = () => toggleMultiple(i, option);
                optionsDiv.appendChild(option);
            });
            
            container.appendChild(optionsDiv);
        }
        
        function renderMatching(container, q) {
            const matchingDiv = document.createElement('div');
            matchingDiv.className = 'matching-container';
            
            const leftCol = document.createElement('div');
            leftCol.className = 'matching-column';
            leftCol.innerHTML = '<div class="matching-label">Система</div>';
            
            const rightCol = document.createElement('div');
            rightCol.className = 'matching-column';
            rightCol.innerHTML = '<div class="matching-label">Характеристика</div>';
            
            // Shuffle right items
            const rightIndices = q.right.map((_, i) => i).sort(() => Math.random() - 0.5);
            
            q.left.forEach((item, i) => {
                const leftItem = document.createElement('div');
                leftItem.className = 'matching-item';
                leftItem.textContent = item;
                leftItem.dataset.index = i;
                leftItem.onclick = () => selectMatching(leftItem, 'left');
                leftCol.appendChild(leftItem);
            });
            
            rightIndices.forEach((originalIndex) => {
                const rightItem = document.createElement('div');
                rightItem.className = 'matching-item';
                rightItem.textContent = q.right[originalIndex];
                rightItem.dataset.originalIndex = originalIndex;
                rightItem.onclick = () => selectMatching(rightItem, 'right');
                rightCol.appendChild(rightItem);
            });
            
            matchingDiv.appendChild(leftCol);
            matchingDiv.appendChild(rightCol);
            container.appendChild(matchingDiv);
        }
        
        function renderSequence(container, q) {
            const sequenceDiv = document.createElement('div');
            sequenceDiv.className = 'sequence-container';
            sequenceDiv.id = 'sequenceContainer';
            
            // Create shuffled order
            const indices = q.items.map((_, i) => i).sort(() => Math.random() - 0.5);
            sequenceOrder = indices;
            
            indices.forEach((originalIndex, displayIndex) => {
                const item = document.createElement('div');
                item.className = 'sequence-item';
                item.draggable = true;
                item.dataset.originalIndex = originalIndex;
                item.dataset.currentIndex = displayIndex;
                item.innerHTML = `
                    <div class="sequence-number">${displayIndex + 1}</div>
                    <div class="quiz-option-text">${q.items[originalIndex]}</div>
                    <div class="sequence-handle">☰</div>
                `;
                
                // Touch events for mobile
                item.addEventListener('touchstart', handleTouchStart, {passive: false});
                item.addEventListener('touchmove', handleTouchMove, {passive: false});
                item.addEventListener('touchend', handleTouchEnd);
                
                // Mouse events for desktop
                item.addEventListener('dragstart', handleDragStart);
                item.addEventListener('dragover', handleDragOver);
                item.addEventListener('drop', handleDrop);
                item.addEventListener('dragend', handleDragEnd);
                
                sequenceDiv.appendChild(item);
            });
            
            container.appendChild(sequenceDiv);
            
            const hint = document.createElement('p');
            hint.style.textAlign = 'center';
            hint.style.color = 'var(--text-muted)';
            hint.style.marginTop = '15px';
            hint.style.fontSize = '0.9rem';
            hint.textContent = 'Перетягніть елементи у правильному порядку (тільки для десктопу) або натисніть "Відповісти" для перевірки';
            container.appendChild(hint);
        }
        
        // ==========================================
        // QUIZ INTERACTION HANDLERS
        // ==========================================
        function selectSingle(index, element) {
            document.querySelectorAll('.quiz-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            element.classList.add('selected');
            selectedAnswers = [index];
        }
        
        function toggleMultiple(index, element) {
            if (selectedAnswers.includes(index)) {
                selectedAnswers = selectedAnswers.filter(i => i !== index);
                element.classList.remove('selected');
            } else {
                selectedAnswers.push(index);
                element.classList.add('selected');
            }
        }
        
        let selectedLeft = null;
        let selectedRight = null;
        
        function selectMatching(element, side) {
            if (element.classList.contains('matched')) return;
            
            if (side === 'left') {
                if (selectedLeft) selectedLeft.classList.remove('selected');
                selectedLeft = element;
                element.classList.add('selected');
            } else {
                if (selectedRight) selectedRight.classList.remove('selected');
                selectedRight = element;
                element.classList.add('selected');
            }
            
            if (selectedLeft && selectedRight) {
                const leftIndex = parseInt(selectedLeft.dataset.index);
                const rightOriginalIndex = parseInt(selectedRight.dataset.originalIndex);
                
                matchedPairs.push({left: leftIndex, right: rightOriginalIndex});
                
                selectedLeft.classList.remove('selected');
                selectedRight.classList.remove('selected');
                selectedLeft.classList.add('matched');
                selectedRight.classList.add('matched');
                
                selectedLeft = null;
                selectedRight = null;
            }
        }
        
        // Drag and drop for sequence
        let draggedElement = null;
        let touchStartY = 0;
        let touchCurrentY = 0;
        
        function handleDragStart(e) {
            draggedElement = this;
            this.classList.add('dragging');
        }
        
        function handleDragOver(e) {
            e.preventDefault();
        }
        
        function handleDrop(e) {
            e.preventDefault();
            if (draggedElement && this !== draggedElement) {
                const container = document.getElementById('sequenceContainer');
                const allItems = [...container.children];
                const draggedIndex = allItems.indexOf(draggedElement);
                const dropIndex = allItems.indexOf(this);
                
                if (draggedIndex < dropIndex) {
                    this.after(draggedElement);
                } else {
                    this.before(draggedElement);
                }
                
                updateSequenceNumbers();
            }
        }
        
        function handleDragEnd() {
            this.classList.remove('dragging');
            draggedElement = null;
        }
        
        // Touch handlers for mobile sequence
        function handleTouchStart(e) {
            touchStartY = e.touches[0].clientY;
            this.classList.add('dragging');
        }
        
        function handleTouchMove(e) {
            e.preventDefault();
            touchCurrentY = e.touches[0].clientY;
        }
        
        function handleTouchEnd(e) {
            this.classList.remove('dragging');
            const container = document.getElementById('sequenceContainer');
            const allItems = [...container.children];
            const currentIndex = allItems.indexOf(this);
            
            const touchEndY = e.changedTouches[0].clientY;
            const diff = touchStartY - touchEndY;
            
            if (Math.abs(diff) > 50) {
                if (diff > 0 && currentIndex > 0) {
                    // Move up
                    this.parentNode.insertBefore(this, allItems[currentIndex - 1]);
                } else if (diff < 0 && currentIndex < allItems.length - 1) {
                    // Move down
                    this.parentNode.insertBefore(allItems[currentIndex + 1], this);
                }
                updateSequenceNumbers();
            }
        }
        
        function updateSequenceNumbers() {
            const container = document.getElementById('sequenceContainer');
            const items = container.querySelectorAll('.sequence-item');
            items.forEach((item, index) => {
                item.querySelector('.sequence-number').textContent = index + 1;
                item.dataset.currentIndex = index;
            });
        }
        
        // ==========================================
        // ANSWER CHECKING
        // ==========================================
        function handleAction() {
            const q = quizData[currentQuestion];
            let isCorrect = false;
            
            switch(q.type) {
                case 'single':
                    isCorrect = checkSingle(q);
                    break;
                case 'multiple':
                    isCorrect = checkMultiple(q);
                    break;
                case 'matching':
                    isCorrect = checkMatching(q);
                    break;
                case 'sequence':
                    isCorrect = checkSequence(q);
                    break;
            }
            
            if (isCorrect) score++;
            
            showFeedback(isCorrect, q);
            
            document.getElementById('actionBtn').textContent = 'Далі →';
            document.getElementById('actionBtn').onclick = nextQuestion;
            document.getElementById('scoreText').textContent = `${score}/${currentQuestion + 1}`;
        }
        
        function checkSingle(q) {
            const selected = document.querySelector('.quiz-option.selected');
            if (!selected) return false;
            
            const index = [...selected.parentNode.children].indexOf(selected);
            const isCorrect = index === q.correct;
            
            document.querySelectorAll('.quiz-option').forEach((opt, i) => {
                opt.classList.add('disabled');
                if (i === q.correct) opt.classList.add('correct');
                else if (opt.classList.contains('selected')) opt.classList.add('wrong');
            });
            
            return isCorrect;
        }
        
        function checkMultiple(q) {
            const selected = [...document.querySelectorAll('.quiz-option.selected')].map(el => 
                [...el.parentNode.children].indexOf(el)
            );
            
            const isCorrect = selected.length === q.correct.length && 
                             selected.every(idx => q.correct.includes(idx));
            
            document.querySelectorAll('.quiz-option').forEach((opt, i) => {
                opt.classList.add('disabled');
                if (q.correct.includes(i)) opt.classList.add('correct');
                else if (opt.classList.contains('selected')) opt.classList.add('wrong');
            });
            
            return isCorrect;
        }
        
        function checkMatching(q) {
            let correctCount = 0;
            const total = q.left.length;
            
            matchedPairs.forEach(pair => {
                if (q.correct[pair.left] === pair.right) {
                    correctCount++;
                }
            });
            
            // Also check unmatched items
            const leftItems = document.querySelectorAll('.matching-column:first-child .matching-item');
            leftItems.forEach((item, i) => {
                if (!item.classList.contains('matched')) {
                    item.classList.add(q.correct[i] === undefined ? 'matched' : 'wrong-match');
                }
            });
            
            const isCorrect = correctCount === total && matchedPairs.length === total;
            
            // Color all matched pairs
            leftItems.forEach((item, i) => {
                const matchedPair = matchedPairs.find(p => p.left === i);
                if (matchedPair) {
                    if (q.correct[i] === matchedPair.right) {
                        item.classList.add('matched');
                        item.style.borderColor = '#00ff88';
                    } else {
                        item.classList.add('wrong-match');
                        const rightItem = document.querySelector(`.matching-item[data-original-index="${matchedPair.right}"]`);
                        if (rightItem) rightItem.classList.add('wrong-match');
                    }
                }
            });
            
            return isCorrect;
        }
        
        function checkSequence(q) {
            const container = document.getElementById('sequenceContainer');
            const items = container.querySelectorAll('.sequence-item');
            const currentOrder = [...items].map(item => parseInt(item.dataset.originalIndex));
            
            const isCorrect = JSON.stringify(currentOrder) === JSON.stringify(q.correct);
            
            items.forEach((item, i) => {
                const originalIndex = parseInt(item.dataset.originalIndex);
                if (originalIndex === i) {
                    item.classList.add('correct-position');
                    item.style.borderColor = '#00ff88';
                } else {
                    item.style.borderColor = '#ff4444';
                }
            });
            
            return isCorrect;
        }
        
        function showFeedback(isCorrect, q) {
            const feedback = document.getElementById('feedback');
            feedback.className = 'show ' + (isCorrect ? 'correct' : 'wrong');
            
            let message = isCorrect ? '✅ Правильно!' : '❌ Неправильно.';
            
            if (!isCorrect) {
                switch(q.type) {
                    case 'single':
                        message += ` Правильна відповідь: ${String.fromCharCode(65 + q.correct)}`;
                        break;
                    case 'multiple':
                        const correctLetters = q.correct.map(i => String.fromCharCode(65 + i)).join(', ');
                        message += ` Правильні варіанти: ${correctLetters}`;
                        break;
                    case 'matching':
                        message += ' Перевірте правильність поєднань.';
                        break;
                    case 'sequence':
                        message += ' Перевірте порядок елементів.';
                        break;
                }
            }
            
            feedback.textContent = message;
        }
        
        function nextQuestion() {
            currentQuestion++;
            if (currentQuestion >= quizData.length) {
                showFinalResults();
            } else {
                loadQuestion();
            }
        }
        
        function showFinalResults() {
            const quizContainer = document.getElementById('quiz');
            const percentage = Math.round((score / quizData.length) * 100);
            
            let message = '';
            let emoji = '';
            
            if (percentage >= 90) {
                message = 'Відмінно! Ви чудово знаєте сучасні гальмівні системи!';
                emoji = '🏆';
            } else if (percentage >= 70) {
                message = 'Добре! Ви маєте гарні знання з теми.';
                emoji = '👍';
            } else if (percentage >= 50) {
                message = 'Задовільно. Рекомендуємо повторити матеріал.';
                emoji = '📚';
            } else {
                message = 'Варто повторити матеріал уроку ще раз.';
                emoji = '🔧';
            }
            
            quizContainer.innerHTML = `
                <div class="results-screen">
                    <div class="hero-badge" style="animation: pulse 2s infinite;">${emoji} Результати тесту</div>
                    <div class="results-score">${score}/${quizData.length}</div>
                    <div class="results-message">${message}</div>
                    
                    <div class="results-details">
                        <p style="font-size: 1.2rem; margin-bottom: 15px;">Ваш результат: <strong style="color: var(--accent);">${percentage}%</strong></p>
                        <div class="results-progress">
                            <div class="results-progress-bar" style="width: ${percentage}%"></div>
                        </div>
                        <p style="color: var(--text-muted); margin-top: 15px;">
                            Правильних відповідей: ${score} з ${quizData.length}
                        </p>
                    </div>
                    
                    <div style="margin-top: 30px;">
                        <button class="quiz-btn" onclick="restartQuiz()" style="margin-right: 10px;">
                            🔄 Пройти знову
                        </button>
                        <button class="quiz-btn" onclick="scrollToTop()" style="background: var(--secondary); color: var(--text-light);">
                            ↑ На початок
                        </button>
                    </div>
                </div>
            `;
        }
        
        function restartQuiz() {
            currentQuestion = 0;
            score = 0;
            selectedAnswers = [];
            matchedPairs = [];
            sequenceOrder = [];
            
            // Restore quiz container structure
            const quizContainer = document.getElementById('quiz');
            quizContainer.innerHTML = `
                <div class="quiz-progress">
                    <span class="quiz-progress-text">Питання <span id="currentQ">1</span> з <span id="totalQ">6</span></span>
                    <div class="quiz-progress-bar">
                        <div class="quiz-progress-fill" id="progressBar"></div>
                    </div>
                    <span class="quiz-progress-text" id="scoreText">0/0</span>
                </div>
                
                <div class="quiz-type-badge" id="quizType">Одиночний вибір</div>
                
                <div class="quiz-question" id="question"></div>
                
                <div id="quizContent"></div>
                
                <div id="feedback"></div>
                
                <button class="quiz-btn" id="actionBtn" onclick="handleAction()">Відповісти</button>
            `;
            
            initQuiz();
        }
    </script>
</body>
</html>